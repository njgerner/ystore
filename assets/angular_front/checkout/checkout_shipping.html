<div class="row">
    <div style="text-align: center;padding-top:15px;">
        <!-- <i class="fa fa-truck fa-3x"></i> -->
        <h3><strong>Shipping<strong></h3>
    </div>  
</div>
<div class="row">
    <div ng-show="addresses.length > 0" class="large-10 large-offset-1 columns">
        <h5 class="pull-left">Select an address to ship to</h5>
        <i class="fa text-ylift pull-right fa-2x clickable" style="padding-top:10px;" ng-class="{'fa-plus-square-o': addAddressView, 'fa-plus-square':!addAddressView}" ng-click="toggleAddAddress()"></i>
    </div>
  <ul>
    <li class="large-8 large-offset-2 columns" ng-repeat="address in addresses" ng-click="selectAddress($index)" ng-class="{'list-group-item-success':isAddressSelected($index)}">
        <i ng-hide="isAddressSelected($index)" class="fa fa-circle-o"></i>
        <i ng-show="isAddressSelected($index)" class="fa fa-check-circle"></i>
        Address: {{address.name}}
    </li>   
  </ul>
</div>
<div ng-show="addAddressView" class="row">
  <form name="shipForm" class="large-10 large-offset-1 columns" ng-submit="addAddress()">
    <fieldset>
        <legend>Enter Address</legend>
        <div class="input-wrapper">
            <input type="text" name="name" ng-model="name" placeholder="Give this address a name" ng-minlength="2" required/>
            <small ng-show="shipForm.name.$error.minlength" class="error">Please enter a name to remember this address</small>
        </div>
        <div class="input-wrapper">
            <input type="text" name="address1" ng-model="address1" placeholder="Street" ng-minlength="2" required/>
            <small ng-show="shipForm.address1.$invalid && shipForm.address1.$dirty" class="error">Please enter an address</small>
        </div>
        <div class="input-wrapper">
            <input type="text" name="address2" ng-model="address2" placeholder="Apartment # (If relevant)"/>
        </div>
        <div class="input-wrapper">
            <input type="text" name="city" ng-model="city" placeholder="City" ng-minlength="2" required/>
            <small ng-show="shipForm.city.$invalid && shipForm.city.$dirty" class="error">Please enter a city</small>
        </div>
        <div class="input-wrapper">
            <input type="text" name="state" ng-model="state" placeholder="State" ng-minlength="2" required/>
            <small ng-show="shipForm.state.$invalid && shipForm.state.$dirty" class="error">Please enter a state</small>
        </div>
        <div>
            <input type="text" name="zip" ng-model="zip" placeholder="Zip" ng-minlength="5" ng-maxlength="5" required/>
            <small ng-show="shipForm.zip.$invalid && shipForm.zip.$dirty" class="error">Please enter a zip code</small>
        </div>
        <div>
            <button type="submit" ng-disabled="shipForm.$invalid">
                <span ng-hide="updatingAddress">Add Shipping</span>
                <span ng-show="updatingAddress"><div class="throbber">Adding...</div></span>
            </button>
        </div>
    </fieldset>
  </form>
</div>
<div ng-hide="addAddressView" class="row">
    <div class="large-10 large-offset-1 columns">
        <button type="submit" ng-click="nextState()" ng-disabled="!$parent.addressShipTo">
            <span ng-show="checkoutState == 'shipping'">Next</span>
            <span ng-hide="checkoutState == 'shipping'"><i class="fa fa-check-circle"></i> Done!</span>
        </button>
    </div>
</div>
