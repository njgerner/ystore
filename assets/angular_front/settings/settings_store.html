<div class="fade" ng-class="{'active in': isSettingsState('store')}">
  <div class="row">
    <p ng-if="error" style="color: red">{{error}}</p>
  	<div class="col-md-6">
  		<legend>Past Orders</legend>
        <div ng-show="loadingOrders" class="locations-loading"><i class="fa fa-spinner fa-pulse fa-5x"></i></div>
  			<div ng-hide="loadingOrders" class="table-responsive">
          <table class="table table-hover">
            <tr>
              <th>Order #</th>
              <th>Status</th>
              <th>Total</th>
            </tr>
            <tr class="clickable" ng-repeat="order in orders | orderBy: order.createdAt | limitTo: 5" ng-click="goToOrder(order.id)">
              <td>{{order.id}}</td>
              <td>{{order.status}}</td>
              <td>${{order.total}}</td>
            </tr>
          </table>
        </div>
  	</div>
  	<div class="col-md-6">
  		<legend>Payment Options 
        <i class="fa text-ylift pull-right clickable" ng-class="{'fa-plus-square-o': addPaymentView, 'fa-plus-square':!addPaymentView}" ng-click="toggleAddPayment()"></i> 
      </legend>
      <div ng-show="customerLoading || customerUpdating" class="locations-loading"><i class="fa fa-spinner fa-pulse fa-5x"></i></div>
      <ul ng-hide="customerLoading" class="list-group">
        <li class="list-group-item" ng-repeat="card in cards">
          <i class="fa" ng-class="{'fa-cc-{{card.brand.toLowerCase()}}':card.brand}"></i> {{card.brand}}   ending in <strong>{{card.last4}}</strong>
          <i ng-hide="removingCard" class="fa fa-trash pull-right clickable" ng-click="removePayment(card.id)"></i>
          <i ng-show="removingCard" class="fa fa-spinner fa-pulse pull-right"></i>
        </li> 
      </ul>
      <form name="ccForm" class="form-horizontal">
        <div ng-show="addPaymentView || showPaymentView">
          <legend>Credit Card Information</legend>
          <div class="form-group">
              <input type="text" class="form-control" ng-model="namecard" placeholder="Name on Card" required/>
          </div>
          <div class="form-group">
              <input type="text" class="form-control" ng-model="ccnum" placeholder="Credit Card Number" required/>
          </div>
          <div class="form-group">
              <input type="text" class="form-control" ng-model="cvc" placeholder="CVC Code"/>
          </div>
          <div class="form-group">
              <input type="text" class="form-control" ng-model="exp" placeholder="Expiration (MM/YYYY)" required/>
          </div>
          <div ng-show="creditCardFieldsComplete()">
            <legend>Billing Information</legend>
            <div class="form-group">
                <input type="text" class="form-control" ng-model="billingname" placeholder="Name" required/>
            </div>
            <div class="form-group">
                <input type="text" class="form-control" ng-model="billingaddress1" placeholder="Address" required/>
            </div>
            <div class="form-group">
                <input type="text" class="form-control" ng-model="billingaddress2" placeholder="Suite # (If relevant)"/>
            </div>
            <div class="form-group">
                <input type="text" class="form-control" ng-model="billingcity" placeholder="City" required/>
            </div>
            <div class="form-group">
                <input type="text" class="form-control" ng-model="billingstate" placeholder="State" required/>
            </div>
            <div class="form-group">
                <input type="text" class="form-control" ng-model="billingzip" placeholder="Zip" required/>
            </div>
          </div>
          <div class="form-group">
              <button ng-show="addPaymentView" type="submit" class="btn ylift-brand" value="Add Payment Option" ng-disabled="!creditCardFieldsComplete() || !billingFieldsComplete()" ng-click="addPayment()"/>
                <span ng-hide="customerUpdating">Add Payment Option</span>
                <span ng-show="customerUpdating" ><i class="fa fa-spinner fa-pulse"></i> Updating...</span>
              </button>
              <button ng-show="showPaymentView" type="submit" class="btn ylift-brand" value="Add Office" ng-disabled="!creditCardFieldsComplete() || !billingFieldsComplete()" ng-click="updateOffice()"/>
                <span ng-hide="customerUpdating">Update Payment Option</span>
                <span ng-show="customerUpdating" ><i class="fa fa-spinner fa-pulse"></i> Updating...</span>
              </button>
          </div>
        </div>
      </form>
  	</div>
  </div>
  <div class="row">
  	<div class="col-md-6">
  		<legend>Ship To Addresses</legend>
      <ul class="list-group">
        <li class="row list-group-item" ng-repeat="office in offices" ng-class="{'ylift-brand':isCurrOffice($index)}">
          <div class="col-md-8">
            <i ng-hide="office.default" class="fa fa-circle-o"></i>
            <i ng-show="office.default" class="fa fa-check-circle"></i>
            {{office.name}}
          </div>
          <div class="col-md-3">
            <span ng-show="office.default && !updatingShipTo"> DEFAULT </span>
            <button ng-hide="office.default" class="btn btn-xs ylift-brand pull-right">
              <span ng-hide="updatingShipTo" ng-click="makeDefaultShipTo($index)">MAKE DEFAULT</span>
              <span ng-show="updatingShipTo" ><i class="fa fa-spinner fa-pulse"></i> Updating...</span>
            </button>
          </div>
          <div class="col-md-1">
          <i class="fa fa-trash pull-right clickable" ng-click="removeOffice($index)"></i>
          <div>
        </li> 
      </ul>
  	</div>
  	<div class="col-md-6">
  		<legend>Industry Accounts</legend>
  		<form class="form-horizontal">
		      <fieldset>
		        <div class="form-group">
		          <label for="inputName" class="col-md-3 control-label">Allergan #</label>
		          <div class="col-md-9">
		            <input type="text" class="form-control" ng-model="profile.allerganacct" placeholder="{{profile.allerganacct}}">
		          </div>
		        </div>
		        <div class="form-group">
		          <label for="inputEmail" class="col-md-3 control-label">Merck #</label>
		          <div class="col-md-9">
		            <input type="text" class="form-control" ng-model="profile.merckacct" placeholder="{{profile.merckacct}}">
		          </div>
		        </div>
		        <div class="form-group">
		          <label for="inputName" class="col-md-3 control-label">Viscot #</label>
		          <div class="col-md-9">
		            <input type="text" class="form-control" ng-model="profile.viscotacct" placeholder="{{profile.viscotacct}}">
		          </div>
		        </div>
		        <div class="form-group">
		          <div class="col-md-3"></div>
		          <div class="col-md-9">
		            <button type="submit" class="btn ylift-brand" ng-click="updateProfile()">
		              <span ng-hide="updating">Save Changes</span>
		              <span ng-show="updating" ><i class="fa fa-spinner fa-pulse"></i> Updating...</span>
		            </button>
		          </div>
		        </div>
		      </fieldset>
		    </form>
  	</div>
  </div>
</div>